FROM oven/bun:alpine

# Install basic system dependencies (CURL is needed for health checks/scripts)
RUN apk add --no-cache curl

# Install OpenCode (The Reasoning Engine)
RUN bun install -g opencode-ai@latest

# Set the working directory
WORKDIR /app

# The command will be overridden by docker-compose, 
# but defaulting to opencode is good practice.
ENTRYPOINT ["opencode"]
