FROM node:lts-slim

# Install basic system dependencies (CURL is needed for health checks/scripts)
# Note: Python, GCC, and UV have been removed. The Brain is now execution-less.
RUN apt-get update && apt-get install -y \
    curl \
    && rm -rf /var/lib/apt/lists/*

# Install OpenCode (The Reasoning Engine)
RUN npm install -g opencode-ai@latest

# Set the working directory
WORKDIR /app

# The command will be overridden by docker-compose, 
# but defaulting to opencode is good practice.
ENTRYPOINT ["opencode"]
